# Type


## データタイプ



### スカラー型

| 型             | 例                                             |
| -------------- | ---------------------------------------------- |
| 符号付き整数型   | `i8` `i16` `i32` `i64` `isize` (省略時は`i32`) |
| 符号なし整数型   | `u8` `u16` `u32` `u64` `usize` (省略時は`f64`)  |
| 浮動少数型      | `f32` `f64`                                    |
| 論理型          | `let t: bool = true;`(通常、型推論で省略可)    |
| 文字型          | `let c: char = 'x';`(通常、型推論で省略可)     |

<br/>

### 数値リテラル

| リテラル           | 例           |
| ------------------ | ------------ |
| 10進数             | `12_000`     |
| 16進数             | `0xff`       |
| 8進数              | `0o77`       |
| 2進数              | `0b1111_000` |
| バイト(`u8`型のみ) | `b'A'`       |


### 文字

```rust
let c: char = 'a';
```

- RustはUnicodeの1文字を表現するのに、32ビットの値のchar 型を用いる
- charは`0x0000`から`0xD7FF`まで、もしくは`0xE000`から`0x10FFFF`までの、Unicodeコードポイントを保持する(char の値が常に許さ
れた範囲に収まることを保証)
- charと他の型の間で暗黙に変換することはできない(as 変換演算子による明示的な型変換が必要)


| リテラル           | 文字リテラル |
| ------------------ | ------ |
| シングルクォート     | `'\''`  |
| バックスラッシュ     | `'\\'`  |
| 改行               | `'\n'`  |
| キャリッジリターン   | `'\r'`  |
| タブ               | `'\t'`  |

- [Primitive Type char](https://doc.rust-lang.org/std/primitive.char.html)
- [Module char](https://doc.rust-lang.org/std/char/index.html)


### 文字列

- 文字列は可変長のエンコーディングであるUTF-8で格納される
- `==` `!=` 演算子による比較が可能(2つの文字列は同じ文字を同じ順番で持っていれば、同じだと判断される)(メモリ上の同じ場所を指していなくてもよい)


#### 文字列リテラル

- 文字列リテラルは、事前に確保されたテキストを参照する&str で、テキストは一般にプログラムコードと一緒に読み出し専用メモリ領域に置かれる

```rust
let speech = "\"Ouch!\" said the well.\n";
```

文字列リテラルは複数の行にまたがってもよい。

```rust
println!("In the room the women come and go,
    Singing of Mount Abora");
```

文字列の行がバックスラッシュ`\`で終わった場合には、改行文字と次の行の冒頭の空白文字は削除される。


#### 生文字列(raw string)

#### バイト文字列

```rust
let method = b"GET";
```
methodの型は&[u8; 3]、つまり3バイトの配列への参照


## 型キャスト

ある値をある型から別の型に変換するには、明示的にキャストする必要がある。
キャストには `as` キーワードを用いる。

```rust
let x = 17;
let index = x as usize;
```

変換には通常はキャストが必要だが、参照型に関するいくつかの型変換はキャストなしで行うことができる。
些細な例だが、mut 参照からmut でない参照への変換は自動的に行われる。

組み込みトレイトのDerefを実装している型は参照解決型変換（Deref 型変換：deref coercions）が行われる

- 型 &String の値は、型 &str にキャストなしで自動変換される
- 型 &Vec<i32> の値は &[i32] に自動変換される
- 型 &Box<Chessboard> の値は &Chessboard に自動変換される


## クロージャ（closure）

```rust
let is_even = |x| x % 2 == 0;
```

